based on: https://github.com/dotnet/aspire/pull/4707/files